"use strict";var __webpack_exports__={};const __JscSliderResizeObserver=new ResizeObserver(s=>{s.forEach(t=>{const e=t.target;e.jscSlider instanceof JscSlider&&e.jscSlider._resize()})});let __JscCurrentPointerPosition=0;function getPointerPosition(s){return s instanceof MouseEvent?s.clientX:s.touches[0].clientX}class JscSlider{constructor(t){if(this.pointerStartingPosition=0,this.isClicked=!1,this.isPointerMoved=!1,this.currentIndex=0,this.firstDragTime=0,this.isFirstMove=!1,this.translate=0,this.breakPointWidths=[],this.currentBreakPoint=null,this.currentActiveWidth=0,this._isTransitioning=!1,this._tempIndex=0,this._pointerPausePosition=0,this.slidesPerView=1,this.percentThreshold=50,this.timeThreshold=300,this.gap=0,this.breakPoints={},typeof t.container=="string"&&(t.container=document.querySelector(t.container)),!(t.container instanceof HTMLElement))return;this.container=t.container,t.slidesPerView&&t.slidesPerView>0&&(this.slidesPerView=t.slidesPerView),t.gap&&t.gap>0&&(this.gap=t.gap);let e=t.prevEl,i=t.nextEl;typeof e=="string"&&(e=this.container.querySelector(e)?this.container.querySelector(e):document.querySelector(e)),e instanceof HTMLElement&&(e.setAttribute("aria-label","Previous slide"),e.addEventListener("click",this.prevSlide.bind(this))),typeof i=="string"&&(i=this.container.querySelector(i)?this.container.querySelector(i):document.querySelector(i)),i instanceof HTMLElement&&(i.setAttribute("aria-label","Next slide"),i.addEventListener("click",this.nextSlide.bind(this))),typeof t.breakPoints=="object"&&(this.breakPoints=t.breakPoints),this._init()}_init(){if(this.sliderContainerWidth=this.container.getBoundingClientRect().width,this.sliderWrapper=this.container.querySelector(".jsc-slider-wrapper"),this.slides=this.container.querySelectorAll(".slide"),!this.sliderWrapper||!this.slides)return;this.sliderWrapper.setAttribute("aria-live","polite"),this.container.jscSlider=this,this.breakPoints[0]={slidesPerView:this.slidesPerView,gap:this.gap};const t=[];Object.keys(this.breakPoints).forEach(e=>+e>=0?t.push(+e):""),this.breakPointWidths=t.sort(),this.slidesLength=this.slides.length,this.slides.forEach((e,i)=>{e.setAttribute("role","group"),e.setAttribute("aria-roledescription","slide"),e.setAttribute("aria-label",`${i+1} / ${this.slidesLength}`)}),this._applyResponsiveness(),this.container.addEventListener("pointerdown",this._pointerDown.bind(this)),this.container.addEventListener("pointerup",this._pointerLeave.bind(this)),__JscSliderResizeObserver.observe(this.container),this._calcSlidesDimensions()}_pointerDown(t){var e;const i=t.target;i!==this.container&&((e=i.closest(".slide"))==null?void 0:e.closest(".jsc-slider-container"))!==this.container&&i.closest(".jsc-slider-wrapper")!==this.sliderWrapper||(t.preventDefault(),this.pointerStartingPosition=getPointerPosition(t),this.isClicked=!0,this._isTransitioning&&(clearTimeout(this._transitionTimeoutId),this._isTransitioning=!1,this._tempIndex=this.currentIndex,this.sliderWrapper.style.transitionDuration="",this._pointerPausePosition=this.currentIndex*(this.sliderContainerWidth+this.gap)+this.sliderWrapper.getBoundingClientRect().left,this._pointerMove()))}_pointerMove(){if(!this.isClicked)return;this.isFirstMove||(this.isFirstMove=!0,this.firstDragTime=new Date().getTime()),this.translate=__JscCurrentPointerPosition-this.pointerStartingPosition+this._pointerPausePosition;const t=this.sliderContainerWidth+this.gap;if(this.currentIndex>=this.totalSlidesPerView-1&&this.translate<0){this.sliderWrapper.style.transform=`translateX(${this.translate/2.5-this.currentIndex*t}px)`;return}if(this.currentIndex<=0&&this.translate>0){this.sliderWrapper.style.transform=`translateX(${this.translate/2.5+this.currentIndex*t}px)`;return}this.sliderWrapper.style.transform=`translateX(${this.translate-this.currentIndex*t}px)`}_pointerLeave(){if(!this.isFirstMove){this.isClicked=!1;return}const t=100*Math.abs(this.translate)/this.sliderContainerWidth;this.isClicked&&(new Date().getTime()-this.firstDragTime<this.timeThreshold||t>this.percentThreshold)&&(this.translate>0&&this.currentIndex>0&&this.prevSlide(),this.translate<0&&this.currentIndex<this.totalSlidesPerView-1&&this.nextSlide()),this._reset()}_resize(){this._applyResponsiveness(),this.sliderContainerWidth=this.container.getBoundingClientRect().width,this._reset()}nextSlide(){return this.currentIndex>=this.totalSlidesPerView-1?!1:(this._tempIndex=this.currentIndex+1,clearTimeout(this._transitionTimeoutId),this._transitionTimeoutId=setTimeout(()=>{this.currentIndex++},200),this._reset(),!0)}prevSlide(){return this.currentIndex<=0?!1:(this._tempIndex=this.currentIndex-1,clearTimeout(this._transitionTimeoutId),this._transitionTimeoutId=setTimeout(()=>{this.currentIndex--},200),this._reset(),!0)}_applyResponsiveness(){const t=window.innerWidth,e=this.slidesPerView;this.breakPointWidths.forEach(i=>{i>t||(+this.breakPoints[i].slidesPerView>0&&(this.slidesPerView=+this.breakPoints[i].slidesPerView),+this.breakPoints[i].gap>0&&(this.gap=+this.breakPoints[i].gap*2))}),this.currentIndex>0&&e!==this.slidesPerView&&(this.slidesPerView<e?this.currentIndex=e*this.currentIndex/this.slidesPerView:this.slidesPerView>e&&(this.currentIndex=Math.floor(this.currentIndex/this.slidesPerView))),this.totalSlidesPerView=this.slidesLength/this.slidesPerView}_calcSlidesDimensions(){let t=null;this.slidesPerView>1&&(t=(this.sliderContainerWidth-this.gap*(this.slidesPerView-1))/this.slidesPerView),this.slides.forEach((e,i)=>{t&&(e.style.width=t+"px"),t===null&&(e.style.width=""),i!==0&&(e.style.marginLeft=this.gap+"px")})}_reset(){this.sliderWrapper.style.transitionDuration="300ms",this.sliderWrapper.style.transform=`translateX(${-(this._tempIndex*(this.sliderContainerWidth+this.gap))}px)`,this._isTransitioning=!0,setTimeout(()=>{this.sliderWrapper.style.transitionDuration=""},300),setTimeout(()=>{this._isTransitioning=!1},200),this._calcSlidesDimensions(),this.isClicked=!1,this.isPointerMoved=!1,this.pointerStartingPosition=0,this.isFirstMove=!1,this.firstDragTime=0,this.translate=0,this._pointerPausePosition=0}}(()=>{let s=null;document.addEventListener("pointermove",e=>{const i=e.target;if(__JscCurrentPointerPosition=getPointerPosition(e),i instanceof HTMLElement){const r=i.closest(".jsc-slider-container");r!==s&&(s=r)}if(!s||!(s.jscSlider instanceof JscSlider)||!s.jscSlider.isClicked){s=null;return}s.jscSlider._pointerMove()});function t(e,i=!1){const r=e.target;s===null||!(s.jscSlider instanceof JscSlider)||!i&&!(r instanceof HTMLElement&&r.closest(".jsc-slider-container")!==s)||(s.jscSlider._pointerLeave(),s=null)}document.addEventListener("pointerup",t),document.addEventListener("pointerout",t),document.addEventListener("visibilitychange",e=>{t(e,!0)})})();

//# sourceMappingURL=slider.min.js.map