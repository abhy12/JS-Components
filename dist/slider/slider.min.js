"use strict";var __webpack_exports__={};const __JscSliderResizeObserver=new ResizeObserver((t=>{t.forEach((t=>{const i=t.target;i.jscSlider instanceof JscSlider&&i.jscSlider._resize()}))}));let __JscCurrentPointerPosition=0;function getPointerPosition(t){return t instanceof MouseEvent?t.clientX:t.touches[0].clientX}class JscSlider{constructor(t){if(this.pointerStartingPosition=0,this.isClicked=!1,this.isPointerMoved=!1,this.currentIndex=0,this.firstDragTime=0,this.isFirstMove=!1,this.translate=0,this.breakPointWidths=[],this.currentBreakPoint=null,this.currentActiveWidth=0,this._isTransitioning=!1,this._tempIndex=0,this._pointerPausePosition=0,this.slidesPerView=1,this.percentThreshold=50,this.timeThreshold=300,this.gap=0,this.breakPoints={},"string"==typeof t.container&&(t.container=document.querySelector(t.container)),!(t.container instanceof HTMLElement))return;this.container=t.container,t.slidesPerView&&t.slidesPerView>0&&(this.slidesPerView=t.slidesPerView),t.gap&&t.gap>0&&(this.gap=t.gap);let i=t.prevEl,e=t.nextEl;"string"==typeof i&&(i=this.container.querySelector(i)?this.container.querySelector(i):document.querySelector(i)),i instanceof HTMLElement&&(i.setAttribute("aria-label","Previous slide"),i.addEventListener("click",this.prevSlide.bind(this))),"string"==typeof e&&(e=this.container.querySelector(e)?this.container.querySelector(e):document.querySelector(e)),e instanceof HTMLElement&&(e.setAttribute("aria-label","Next slide"),e.addEventListener("click",this.nextSlide.bind(this))),"object"==typeof t.breakPoints&&(this.breakPoints=t.breakPoints),this._init()}_init(){if(this.sliderContainerWidth=this.container.getBoundingClientRect().width,this.sliderWrapper=this.container.querySelector(".jsc-slider-wrapper"),this.slides=this.container.querySelectorAll(".slide"),!this.sliderWrapper||!this.slides)return;this.sliderWrapper.setAttribute("aria-live","polite"),this.container.jscSlider=this,this.breakPoints[0]={slidesPerView:this.slidesPerView,gap:this.gap};const t=[];Object.keys(this.breakPoints).forEach((i=>+i>=0?t.push(+i):"")),this.breakPointWidths=t.sort(),this.slidesLength=this.slides.length,this.slides.forEach(((t,i)=>{t.setAttribute("role","group"),t.setAttribute("aria-roledescription","slide"),t.setAttribute("aria-label",`${i+1} / ${this.slidesLength}`)})),this._applyResponsiveness(),this.container.addEventListener("pointerdown",this._pointerDown.bind(this)),this.container.addEventListener("pointerup",this._pointerLeave.bind(this)),__JscSliderResizeObserver.observe(this.container),this._calcSlidesDimensions()}_pointerDown(t){var i;const e=t.target;e!==this.container&&(null===(i=e.closest(".slide"))||void 0===i?void 0:i.closest(".jsc-slider-container"))!==this.container&&e.closest(".jsc-slider-wrapper")!==this.sliderWrapper||(t.preventDefault(),this.pointerStartingPosition=getPointerPosition(t),this.isClicked=!0,this._isTransitioning&&(clearTimeout(this._transitionTimeoutId),this._isTransitioning=!1,this._tempIndex=this.currentIndex,this.sliderWrapper.style.transitionDuration="",this._pointerPausePosition=this.currentIndex*(this.sliderContainerWidth+this.gap)+this.sliderWrapper.getBoundingClientRect().left,this._pointerMove()))}_pointerMove(){if(!this.isClicked)return;this.isFirstMove||(this.isFirstMove=!0,this.firstDragTime=(new Date).getTime()),this.translate=__JscCurrentPointerPosition-this.pointerStartingPosition+this._pointerPausePosition;const t=this.sliderContainerWidth+this.gap;this.currentIndex>=this.totalSlidesPerView-1&&this.translate<0?this.sliderWrapper.style.transform=`translateX(${this.translate/2.5-this.currentIndex*t}px)`:this.currentIndex<=0&&this.translate>0?this.sliderWrapper.style.transform=`translateX(${this.translate/2.5+this.currentIndex*t}px)`:this.sliderWrapper.style.transform=`translateX(${this.translate-this.currentIndex*t}px)`}_pointerLeave(){if(!this.isFirstMove)return void(this.isClicked=!1);const t=100*Math.abs(this.translate)/this.sliderContainerWidth;this.isClicked&&((new Date).getTime()-this.firstDragTime<this.timeThreshold||t>this.percentThreshold)&&(this.translate>0&&this.currentIndex>0&&this.prevSlide(),this.translate<0&&this.currentIndex<this.totalSlidesPerView-1&&this.nextSlide()),this._reset()}_resize(){this._applyResponsiveness(),this.sliderContainerWidth=this.container.getBoundingClientRect().width,this._reset()}nextSlide(){return!(this.currentIndex>=this.totalSlidesPerView-1)&&(this._tempIndex=this.currentIndex+1,clearTimeout(this._transitionTimeoutId),this._transitionTimeoutId=setTimeout((()=>{this.currentIndex++}),200),this._reset(),!0)}prevSlide(){return!(this.currentIndex<=0)&&(this._tempIndex=this.currentIndex-1,clearTimeout(this._transitionTimeoutId),this._transitionTimeoutId=setTimeout((()=>{this.currentIndex--}),200),this._reset(),!0)}_applyResponsiveness(){const t=window.innerWidth,i=this.slidesPerView;this.breakPointWidths.forEach((i=>{i>t||(+this.breakPoints[i].slidesPerView>0&&(this.slidesPerView=+this.breakPoints[i].slidesPerView),+this.breakPoints[i].gap>0&&(this.gap=2*+this.breakPoints[i].gap))})),this.currentIndex>0&&i!==this.slidesPerView&&(this.slidesPerView<i?this.currentIndex=i*this.currentIndex/this.slidesPerView:this.slidesPerView>i&&(this.currentIndex=Math.floor(this.currentIndex/this.slidesPerView))),this.totalSlidesPerView=this.slidesLength/this.slidesPerView}_calcSlidesDimensions(){let t=null;this.slidesPerView>1&&(t=(this.sliderContainerWidth-this.gap*(this.slidesPerView-1))/this.slidesPerView),this.slides.forEach(((i,e)=>{t&&(i.style.width=t+"px"),null===t&&(i.style.width=""),0!==e&&(i.style.marginLeft=this.gap+"px")}))}_reset(){this.sliderWrapper.style.transitionDuration="300ms",this.sliderWrapper.style.transform=`translateX(${-this._tempIndex*(this.sliderContainerWidth+this.gap)}px)`,this._isTransitioning=!0,setTimeout((()=>{this.sliderWrapper.style.transitionDuration=""}),300),setTimeout((()=>{this._isTransitioning=!1}),200),this._calcSlidesDimensions(),this.isClicked=!1,this.isPointerMoved=!1,this.pointerStartingPosition=0,this.isFirstMove=!1,this.firstDragTime=0,this.translate=0,this._pointerPausePosition=0}}(()=>{let t=null;function i(i,e=!1){const s=i.target;null!==t&&t.jscSlider instanceof JscSlider&&(e||s instanceof HTMLElement&&s.closest(".jsc-slider-container")!==t)&&(t.jscSlider._pointerLeave(),t=null)}document.addEventListener("pointermove",(i=>{const e=i.target;if(__JscCurrentPointerPosition=getPointerPosition(i),e instanceof HTMLElement){const i=e.closest(".jsc-slider-container");i!==t&&(t=i)}t&&t.jscSlider instanceof JscSlider&&t.jscSlider.isClicked?t.jscSlider._pointerMove():t=null})),document.addEventListener("pointerup",i),document.addEventListener("pointerout",i),document.addEventListener("visibilitychange",(t=>{i(t,!0)}))})();
//# sourceMappingURL=slider.min.js.map